<html>
<head>

  <link rel="stylesheet" type="text/css" href="../css/tablestyle.css">
  <link rel="stylesheet" type="text/css" href="../css/header.css">
  <link rel="stylesheet" type="text/css" href="../css/style.css">
  
    <script type="text/javascript" src="../ash-sweb-2016-group4/Script/jquery-1.12.1.js" > </script> 
 <script>

	
	var notprinted_drug = true;
	var notprinted_tool = true;
	var notprinted_supplier = true;
	
	function testing(){
		var update = document.getElementById('update');
		update.innerHTML='working';
	}
	
	function getAllDrugs(){
	var ajaxurl="../ash-sweb-2016-group4/View/homepage.php?cmd=1";
	$.ajax(ajaxurl,
	{
	async:true,
	complete:fillTableDrugs

	}
	);
	}
	
	function fillTableDrugs(xhr, status){
		var response = $.parseJSON(xhr.responseText);
		//document.getElementById('update').innerHTML=xhr.responseText;
		if(notprinted_drug)  {
	document.getElementById('results_table').innerHTML = "";
	$(function(){
	document.getElementById('results_table').innerHTML = " <thead><tr id='header'><th id='name'>Drug Name</th><th id='quantity'>Quantity</th><th id='supplier'>Supplier Name</th><th id='supplierid'>Supplier Id</th><th id='supplierid'>Drug Type</th></tr> </thead>";
    $.each(response, function(i, item){
        var $tr = $('<tr>').append(
           
            $('<td>').text(item.drugName),
            $('<td>').text(item.quantity),
			$('<td>').text(item.supplierName),
			$('<td>').text(item.supplierID),
			$('<td>').text(item.drugType)
        ).appendTo('#results_table');
        //console.log($tr.wrap('<p>').html());
    });
});
notprinted_drug=false;
notprinted_tool=true;
notprinted_supplier=true;

}
	
	}
	
	
	function getAllTools(){
	var ajaxurl="../ash-sweb-2016-group4/View/homepage.php?cmd=2";
	$.ajax(ajaxurl,
	{
	async:true,
	complete:fillTableTools

	}
	);
	}
	
	function fillTableTools(xhr, status){
	var response = $.parseJSON(xhr.responseText);
	//document.getElementById('update').innerHTML=xhr.responseText;
  if(notprinted_tool==true)  {
  document.getElementById('results_table').innerHTML = "";
	$(function(){
	 document.getElementById('results_table').innerHTML = " <thead><tr id='header'><th id='name'>Tool Name</th><th id='quantity'>Quantity</th><th id='supplier'>Supplier Name</th><th id='supplierid'>Supplier Id</th></tr> </thead>";
	 
	 //document.getElementById('editlink').innerHTML="<a href="">Edit</a>";
	 
	 
    $.each(response, function(i, item){
        var $tr = $('<tr>').append(
           
            $('<td>').text(item.toolName),
            $('<td>').text(item.quantity),
			$('<td>').text(item.supplierName),
			$('<td>').text(item.supplierId)
		
			
        ).appendTo('#results_table');
        //console.log($tr.wrap('<p>').html());
    });
});
notprinted_tool=false;
notprinted_drug=true;
notprinted_supplier=true;

}
	
	}
	
	function getAllSuppliers(){
	var ajaxurl="../ash-sweb-2016-group4/View/homepage.php?cmd=3";
	$.ajax(ajaxurl,
	{
	async:true,
	complete:fillTableSuppliers

	}
	);
	}
	
	function fillTableSuppliers(xhr, status){
	var response = $.parseJSON(xhr.responseText);
  if(notprinted_supplier==true)  {
  document.getElementById('results_table').innerHTML = "";
	$(function(){
	 document.getElementById('results_table').innerHTML = " <thead><tr id='header'><th id='name'>Supplier Name</th><th id='quantity'>Location</th></tr> </thead>";
	 
	 
	 
	 
    $.each(response, function(i, item){
        var $tr = $('<tr>').append(
           
        
			$('<td>').text(item.supplierName),
			$('<td>').text(item.supplierLocation),
			$('<td>').text("<a href=\"google.com\">do something</a>")
			
        ).appendTo('#results_table');
        //console.log($tr.wrap('<p>').html());
    });
});
notprinted_tool=true;
notprinted_drug=true;
notprinted_supplier=false;

}
	
	}
	
	function sfillTableTools(xhr, status){
	var response = $.parseJSON(xhr.responseText);
	document.getElementById('update').innerHTML=xhr.responseText;
  if(!notprinted_tool)  {
  document.getElementById('results_table').innerHTML = "";
	$(function(){
	 document.getElementById('results_table').innerHTML = " <thead><tr id='header'><th id='name'>Tool Name</th><th id='quantity'>Quantity</th><th id='supplier'>Supplier Name</th><th id='supplierid'>Supplier Id</th></tr> </thead>";
	 
	 //document.getElementById('editlink').innerHTML="<a href="">Edit</a>";
	 
	 
    $.each(response, function(i, item){
        var $tr = $('<tr>').append(
           
            $('<td>').text(item.toolName),
            $('<td>').text(item.quantity),
			$('<td>').text(item.supplierName),
			$('<td>').text(item.supplierId)
		
			
        ).appendTo('#results_table');
        //console.log($tr.wrap('<p>').html());
    });
});
notprinted_tool=false;
notprinted_drug=true;
notprinted_supplier=true;

}
	
	}
	
	function sfillTableSuppliers(xhr, status){
	var response = $.parseJSON(xhr.responseText);
	document.getElementById('update').innerHTML=xhr.responseText;
  if(!notprinted_supplier)  {
  document.getElementById('results_table').innerHTML = "";
	$(function(){
	 document.getElementById('results_table').innerHTML = " <thead><tr id='header'><th id='name'>Supplier Name</th><th id='quantity'>Location</th></tr> </thead>";
	 
	 
	 
	 
    $.each(response, function(i, item){
        var $tr = $('<tr>').append(
           
        
			$('<td>').text(item.supplierName),
			$('<td>').text(item.supplierLocation),
			$('<td>').text("<a href=\"google.com\">do something</a>")
			
        ).appendTo('#results_table');
        //console.log($tr.wrap('<p>').html());
    });
});
notprinted_tool=true;
notprinted_drug=true;
notprinted_supplier=false;

}
	
	}
	
	function sfillTableDrugs(xhr, status){
		var response = $.parseJSON(xhr.responseText);
		document.getElementById('update').innerHTML=xhr.responseText;
		if(!notprinted_drug)  {
	document.getElementById('results_table').innerHTML = "";
	$(function(){
	document.getElementById('results_table').innerHTML = " <thead><tr id='header'><th id='name'>Drug Name</th><th id='quantity'>Quantity</th><th id='supplier'>Supplier Name</th><th id='supplierid'>Supplier Id</th><th id='supplierid'>Drug Type</th></tr> </thead>";
    $.each(response, function(i, item){
        var $tr = $('<tr>').append(
           
            $('<td>').text(item.drugName),
            $('<td>').text(item.quantity),
			$('<td>').text(item.supplierName),
			$('<td>').text(item.supplierID),
			$('<td>').text(item.drugType)
        ).appendTo('#results_table');
        //console.log($tr.wrap('<p>').html());
    });
});
notprinted_drug=false;
notprinted_tool=true;
notprinted_supplier=true;

}
	
	}
	
	function search(){
		var search = document.getElementById('searchtxt').value;
		document.getElementById('update').innerHTML='inside search';
				
		if(!notprinted_tool){
			document.getElementById('update').innerHTML='searching for tool '+search;
			var ajaxurl = '../ash-sweb-2016-group4/View/homepage.php?cmd=5&searchtxt='+search;
			document.getElementById('update').innerHTML=ajaxurl+' in tools';
			$.ajax(ajaxurl, {async:true, complete:sfillTableTools });
		}else if(!notprinted_drug){
			document.getElementById('update').innerHTML=search+' in drugs';
			var ajaxurl = '../ash-sweb-2016-group4/View/homepage.php?cmd=4&searchtxt='+search;
			document.getElementById('update').innerHTML=ajaxurl;
			$.ajax(ajaxurl, {async:true, complete:sfillTableDrugs } );
		}else if(!notprinted_supplier){
			document.getElementById('update').innerHTML==ajaxurl+' in suppliers';
			var ajaxurl = '../ash-sweb-2016-group4/View/homepage.php?cmd=6&searchtxt='+search;
			$.ajax(ajaxurl, {async:true, complete:sfillTableSuppliers} );
		}
		
		
	}
  
  
	
</script>

  <div style="background-color">
    <div id='logo' style='padding-left: 10%' ><a href='#logo'><img src='../img/logo.png'/></a></div>
    <ul style='length: 100%'>
      <li><a href='#'>Home</a></li>
      <li><a href='#'>Person</a></li>
      <li><a href='#'>People</a></li>
    </ul>
  </div>
  <style>

#backrectangle{
  position: absolute;
  background-image: url("../img/smallerbackground.png");
  top:300px;
  left:200px;
  width:1000px;
  height:900px;
  /*background:white;*/
  border-radius: 10px;
}

#rectangle1{
    width:25%;
    height:100%;
    background:black;
}

body {
  background-image: url("../img/standardbackground2.png");
  /*background-color: #E7F0F5;*/
}
  </style>
 


</head>
<body>
<div id="update"></div>
<a href="../ash-sweb-2016-group4/View/homepage.php?cmd=3">here</a>
<div id="rectangle"></div>

<div class="flat wrapper" >
  <span onclick="getAllDrugs()"><button>Drugs</button></span>
<span onclick="getAllTools()"><button>Tools</button></span>
 <span onclick="getAllSuppliers()"><button>Supplier</button></span>

</div>
<div style=' width: 50%; padding-left: 40%;float: right;'>
  <input type='text' id= 'searchtxt' style='width: 25%; ' >
  <input type='submit' value = 'Search' name='searchbtn' onclick='search()'>
 </div>

  <div id="backrectangle">
    <div class = "wrapper">
    <button>Add New Inventory Item</button>
 </div>

  <table id="results_table">


    <thead>
      <tr id='header'>
        <th id='name'>Drug Name</th>
        <th id='quantity'>Quantity</th>
        <th id='supplier'>Supplier Name</th>
		<th id='supplierid'>Supplier Id</th>
        <th id='type'>DrugType</th>
		
      </tr>
    </thead>
    <tbody>
      <tr>
      
      </tr>
      <tr>
       
      </tr>
      <tr>
       
      </tr>
    </tbody>
  </table>


  </div>
  <footer class = "height">
  	 <span style="float:left"><img id="imageshape" src="../img/logo.png"/></span>
  	 <span style="margin-bottom:4%; margin-top:4%;"><p style="padding-top:1%;">Contact us</p>
  	 <p>Phone number:(00233)34-456-00-99</p> <p>Email: info@ashesiclinic.com </p>
  	 </span>
  		 <div id="footertext" style="padding-left:2% float:right;">
  						&copy; 2016 Copyright Clinic Tool</span>
  						<span style="color:#515151;padding-left:2%;">All rights reserved<span>

  						</div>

  		</footer>

</body>
</html>
